@model IEnumerable<MrGroom_KY_SL.Models.CompanyInfo>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Company Information List";
}

<div class="company-info-wrapper py-5">
    <div class="company-info-card shadow-sm border-0">

        <!-- Header -->
        <div class="card-header bg-light d-flex justify-content-between align-items-center py-3">
            <h3 class="fw-bold text-gradient mb-0">
                <i class="bi bi-buildings me-2 text-primary"></i> Company Information
            </h3>

            <a href="@Url.Action("Create", "CompanyInfo")" class="btn btn-sm btn-glow px-3">
                <i class="bi bi-plus-circle me-1"></i> Add New
            </a>
        </div>

        <div class="card-body">

            <!-- Toastr Messages -->
            @if (TempData["ToastrMessage"] != null)
            {
                <div class="alert alert-@TempData["ToastrType"] alert-dismissible fade show" role="alert">
                    @TempData["ToastrMessage"]
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            }

            <!-- Table -->
            <div class="table-responsive mt-3">
                <table class="table table-striped table-hover align-middle mb-0">
                    <thead class="table-light">
                        <tr>
                            <th>Company Name</th>
                            <th>Phone</th>
                            <th>Address</th>
                            <th>Email</th>
                            <th>Created On</th>
                            <th class="text-center">Actions</th>
                        </tr>
                    </thead>

                    <tbody>
                        @if (!Model.Any())
                        {
                            <tr>
                                <td colspan="6" class="text-center text-muted py-4">
                                    No company records found.
                                </td>
                            </tr>
                        }
                        else
                        {
                            foreach (var company in Model)
                            {
                                <tr>
                                    <td>@company.CompanyName</td>
                                    <td>@company.Phone</td>
                                    <td>@company.Address</td>
                                    <td>@company.Email</td>
                                    <td>@company.CreatedOn.ToString("yyyy-MM-dd")</td>

                                    <td class="text-center">
                                        <a href="@Url.Action("Edit", "CompanyInfo", new { id = company.CompanyInfoId })"
                                           class="btn btn-sm btn-outline-warning me-1" data-bs-toggle="tooltip" title="Edit">
                                            <i class="bi bi-pencil-square"></i>
                                        </a>

                                        <a href="@Url.Action("Delete", "CompanyInfo", new { id = company.CompanyInfoId })"
                                           class="btn btn-sm btn-outline-danger" data-bs-toggle="tooltip" title="Delete">
                                            <i class="bi bi-trash"></i>
                                        </a>
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>

        </div>
    </div>
</div>


@section Styles {
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
    <style>

        body {
            background: linear-gradient(120deg, #e0e7ff, #f5f3ff, #f0f9ff);
            background-size: 300% 300%;
            animation: bgShift 12s ease infinite;
            font-family: 'Poppins', sans-serif;
            color: #1e293b;
        }

        @@keyframes bgShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .company-info-wrapper {
            display: flex;
            justify-content: center;
        }

        .company-info-card {
            width: 100%;
            max-width: 1200px;
            border-radius: 16px;
            overflow: hidden;
            animation: fadeIn 0.8s ease;
        }

        @@keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        .text-gradient {
            background: linear-gradient(90deg, #185a9d, #43cea2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .btn-glow {
            background: linear-gradient(90deg, #43cea2, #185a9d);
            border: none;
            color: white;
            box-shadow: 0 4px 12px rgba(24, 90, 157, 0.25);
        }

        .btn-glow:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(24, 90, 157, 0.35);
        }

        .table-hover tbody tr:hover {
            background-color: #eef2ff !important;
        }
    </style>
}

@section Scripts {
    <script>
        // Enable tooltips
        const tooltips = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        tooltips.forEach(t => new bootstrap.Tooltip(t));
    </script>
}
